function Listener() { this.listeners = [] } var Domain = {}; $(function () { function e(e) { return "//" + e + ".zongheng.com" } Domain.hostName = e("oldwww"), Domain.bookHostName = e("oldbook"), Domain.mmHostName = "//www.mmzh.com", Domain.mmBookHostName = "//www.mmzh.com", Domain.comicHostName = e("comic"), Domain.homeHostName = e("home"), Domain.authorHostName = e("author"), Domain.passportHostName = e("passport"), Domain.bbsHostName = e("bbs"), Domain.commentHostName = e("comment"), Domain.adHostName = e("ad"), Domain.textHostName = e("text"), Domain.tomeHostName = e("tome"), Domain.newsHostName = e("news"), Domain.searchHostName = e("search"), Domain.big5HostName = e("big5"), Domain.dlHostName = e("dl"), Domain.img1ComicHostName = e("img1.comic"), Domain.uploadComicHostName = e("upload.comic"), Domain.gameHostName = e("game"), Domain.iHostName = e("i"), Domain.mHostName = e("m"), Domain.tHostName = e("t"), Domain.novelHostName = e("novel"), Domain.pubHostName = e("pub"), Domain.host = location.host, Domain.getSource = function (e) { return "//static.zongheng.com/upload/hzds/column/" + e + ".js" }, Domain.write = function (e) { document.write('<script type="text/javascript" src="' + Domain.getSource(e) + '"></script>') }, "big5.zongheng.com" == location.host && (Domain.hostName = Domain.bookHostName = Domain.tomeHostName = Domain.textHostName = e("big5")) }); var Base64 = {}; Base64.utf16to8 = function (e) { var t, n, i, o; for (t = "", i = e.length, n = 0; n < i; n++)o = e.charCodeAt(n), o >= 1 && o <= 127 ? t += e.charAt(n) : o > 2047 ? (t += String.fromCharCode(224 | o >> 12 & 15), t += String.fromCharCode(128 | o >> 6 & 63), t += String.fromCharCode(128 | o >> 0 & 63)) : (t += String.fromCharCode(192 | o >> 6 & 31), t += String.fromCharCode(128 | o >> 0 & 63)); return t }, Base64.utf8to16 = function (e) { var t, n, i, o, l, a; for (t = "", i = e.length, n = 0; n < i;)switch (o = e.charCodeAt(n++), o >> 4) { case 0: case 1: case 2: case 3: case 4: case 5: case 6: case 7: t += e.charAt(n - 1); break; case 12: case 13: l = e.charCodeAt(n++), t += String.fromCharCode((31 & o) << 6 | 63 & l); break; case 14: l = e.charCodeAt(n++), a = e.charCodeAt(n++), t += String.fromCharCode((15 & o) << 12 | (63 & l) << 6 | (63 & a) << 0) }return t }, Base64.base64EncodeChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", Base64.base64DecodeChars = new Array((-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), (-1), 62, (-1), (-1), (-1), 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, (-1), (-1), (-1), (-1), (-1), (-1), (-1), 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, (-1), (-1), (-1), (-1), (-1), (-1), 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, (-1), (-1), (-1), (-1), (-1)), Base64.encode = function (e) { var t, n, i, o, l, a; for (i = e.length, n = 0, t = ""; n < i;) { if (o = 255 & e.charCodeAt(n++), n == i) { t += this.base64EncodeChars.charAt(o >> 2), t += this.base64EncodeChars.charAt((3 & o) << 4), t += "=="; break } if (l = e.charCodeAt(n++), n == i) { t += this.base64EncodeChars.charAt(o >> 2), t += this.base64EncodeChars.charAt((3 & o) << 4 | (240 & l) >> 4), t += this.base64EncodeChars.charAt((15 & l) << 2), t += "="; break } a = e.charCodeAt(n++), t += this.base64EncodeChars.charAt(o >> 2), t += this.base64EncodeChars.charAt((3 & o) << 4 | (240 & l) >> 4), t += this.base64EncodeChars.charAt((15 & l) << 2 | (192 & a) >> 6), t += this.base64EncodeChars.charAt(63 & a) } return t }, Base64.decode = function (e) { return this.utf8to16(this.base64decode(e)) }, Base64.base64decode = function (e) { var t, n, i, o, l, a, s; for (a = e.length, l = 0, s = ""; l < a;) { do t = this.base64DecodeChars[255 & e.charCodeAt(l++)]; while (l < a && t == -1); if (t == -1) break; do n = this.base64DecodeChars[255 & e.charCodeAt(l++)]; while (l < a && n == -1); if (n == -1) break; s += String.fromCharCode(t << 2 | (48 & n) >> 4); do { if (i = 255 & e.charCodeAt(l++), 61 == i) return s; i = this.base64DecodeChars[i] } while (l < a && i == -1); if (i == -1) break; s += String.fromCharCode((15 & n) << 4 | (60 & i) >> 2); do { if (o = 255 & e.charCodeAt(l++), 61 == o) return s; o = this.base64DecodeChars[o] } while (l < a && o == -1); if (o == -1) break; s += String.fromCharCode((3 & i) << 6 | o) } return s }; var CookieUtil = {}; CookieUtil.trim = function (e) { return null != e ? e.replace(/(^\s*)|(\s*$)/g, "") : "" }, CookieUtil.setCookie = function (e) { var t = ""; if (null == e.value && (e.value = "", e.expires = -1), null != e.expires) { var n = null; "number" == typeof e.expires ? (n = new Date, n.setTime(n.getTime() + 1e3 * e.expires)) : null != e.expires.toUTCString && (n = e.expires), t = "; expires=" + n.toUTCString() } var i = e.path ? "; path=" + e.path : "", o = e.domain ? "; domain=" + e.domain : "", l = e.secure ? "; secure" : ""; document.cookie = [e.name, "=", null != e.value ? encodeURIComponent(e.value) : "", t, i, o, l].join("") }, CookieUtil.getCookie = function (e) { var t = null; if (document.cookie && "" != document.cookie) for (var n = document.cookie.split(";"), i = 0; i < n.length; i++) { var o = this.trim(n[i]); if (o.substring(0, e.length + 1) == e + "=") { t = decodeURIComponent(o.substring(e.length + 1)); break } } return t }, CookieUtil.getDomain = function () { for (var e = [""], t = window.location.host.split("."), n = t.length >= 3 ? t.length - 2 : 0, i = 1; n < t.length; n++)e[i++] = t[n]; return e.join(".") }; var StringUtil = {}; StringUtil.trim = function (e) { return null != e ? e.toString().replace(/(^\s*)|(\s*$)/g, "") : "" }, StringUtil.substring = function (e, t, n) { var i = this.trim(e); if (i.length < 1) return i; for (var o, l = 0, a = i.length, s = [], r = 0; r < i.length; r++) { if (o = i.charCodeAt(r), o >= 128 ? (l += 2, a++) : l++ , l > t) { o >= 19968 ? l -= 2 : l--; break } s.push(i.charAt(r)) } return l < a && null != n && n.length > 0 && (s.length > 0 && (s[s.length - 1] = ""), s.push(n)), s.join("") }, StringUtil.length = function (e) { if (null == e) return 0; for (var t, n = this.trim(e), i = n.length, o = i, l = 0; l < o; l++)t = n.charCodeAt(l), t >= 128 && i++; return i }, StringUtil.toHtml = function (e) { return e.replace(/\&lt\;br[\&ensp\;|\&emsp\;]*[\/]?\&gt\;|\r\n|\n/g, "<br/>") }, StringUtil.html = function (e, t) { if (null == e) return ""; null == t && (t = ""); for (var n, i = [], o = 0, l = e.length; o < l; o++)switch (n = e.charAt(o)) { case "&": i[i.length] = "&amp;"; break; case '"': i[i.length] = "&quot;"; break; case "<": i[i.length] = "&lt;"; break; case ">": i[i.length] = "&gt;"; break; case "\r": o + 1 < l && "\n" == e.charAt(o + 1) ? (i[i.length] = t, o++) : i[i.length] = n; break; case "\n": i[i.length] = t; break; default: i[i.length] = n }return i.join("") }, $(function () { $(".tabT").click(function () { $(this).addClass("active").siblings().removeClass("active"); var e = $(this).closest(".tabT_wap").attr("tabId"), t = $(this).index(); "1" == $(this).closest(".tabT_wap").attr("tabMore") && $(".tabM_wap[tabId=" + e + "]").children("a").eq(t).show().siblings().hide(), $(".tabC_wap[tabId=" + e + "]").children(".tabC").eq(t).show().siblings().hide() }) }), Listener.prototype.addListener = function (e) { this.listeners[this.listeners.length] = e }, Listener.prototype.removeListener = function (e) { var t = this.listeners; if (null != t) { for (var n = -1, i = 0, o = t.length; i < o; i++)if (e == t[i]) { n = i; break } if (n > -1) { for (var i = n, o = t.length - 1; i < o; i++)t[i] = t[i + 1]; return t[t.length - 1] = null, t.length = t.length - 1, e } } return null }, Listener.prototype.trigger = function () { var e = this.listeners; if (null != e) for (var t = 0, n = e.length; t < n; t++) { var i = e[t].apply(this, arguments); if (null != i && void 0 != i && 0 == i) break } }, window.Timer = function (e, t, n) { this.status = 0, this.target = e, this.method = t, this.interval = n }, Timer.prototype.getTask = function () { if (null == this.timer) { var e = this; this.task = function () { e.run() } } return this.task }, Timer.prototype.start = function (e) { 0 == this.status && (this.status = 1, this.run(e)) }, Timer.prototype.pause = function (e) { var t = this.status; return this.status = 0, null != this.timer && (clearTimeout(this.timer), this.timer = null), t }, Timer.prototype.stop = function () { this.pause() }, Timer.prototype.run = function (e) { if (null != this.timer && (clearTimeout(this.timer), this.timer = null), 1 == this.status) { if (null != e) return void (this.timer = setTimeout(this.getTask(), e)); if (this.method.call(this.target), null != this.test && 0 == this.test()) return; this.timer = setTimeout(this.getTask(), this.interval) } }, window.zhBase64 = Base64, window.zhCookieUtil = CookieUtil, window.zhStringUtil = StringUtil, $(function () { var e = {}; e.H = { slice: function (e, t, n) { for (var i = [], o = Math.min(e.length, isNaN(n) ? e.length - t : n), l = 0; l < o; l++)i[i.length] = e[t + l]; return i }, create: function (e, t, n) { return null == n || void 0 == n ? function () { return t.apply(e) } : function () { return t.apply(e, n) } } }, e.D = { block: !0, queue: [], setSize: function (e, t, n) { var i = document.getElementById(e); null != i && (i.style.width = t + "px", i.style.height = n + "px") }, center: function (e) { var t = document.getElementById(e); if (null != t) { var n = document.documentElement.scrollTop + document.body.scrollTop, i = n + parseInt((document.documentElement.clientHeight + $(t).height()) / 2); t.style.top = i + "px", t.style.left = "50%", t.style.marginTop = "-" + parseInt($(t).height()) + "px", t.style.marginLeft = "-" + parseInt($(t).width() / 2) + "px" } }, open: function (e) { var t = document.getElementById(e), n = document.documentElement.scrollTop + document.body.scrollTop, i = (document.documentElement.scrollLeft, document.documentElement.scrollWidth + "px"), o = document.documentElement.scrollHeight + "px"; document.documentElement.scrollWidth < document.documentElement.clientWidth && (i = document.documentElement.clientWidth + "px"), document.documentElement.scrollHeight < document.documentElement.clientHeight && (o = document.documentElement.clientHeight + "px"); var l = n + (document.documentElement.clientHeight + $(t).height()) / 2 + "px", a = "display: none; width: " + i + "; height:" + o + "; position: absolute; left: 0px; top: 0px; z-index: 999990; background: #000000;"; if (a += document.all ? " filter: alpha(opacity=50);" : " opacity: 0.5;", 1 == this.block) { var s = document.getElementById("mark"); null != s ? s.style.cssText = a : (s = document.createElement("div"), s.id = "mark", s.style.cssText = a, document.body.appendChild(s)), s.style.display = "block", $(s).css("opacity", .5); var r = ['<iframe frameborder="0" scrolling="no"', ' style="top: 0px; left: 0px;', " width: " + i + "; height: " + o + ";", ' border: 0px solid #5183dc; background-color: transparent; z-index: 9991; overflow: hidden;"', ' src="about:blank"></iframe>'].join(""); s.innerHTML = r; var c = s.childNodes[0].contentWindow.document; c.open("text/html"), c.write('<html><head><title>mark</title></head><body style="background-color: #000000;"></body></html>'), c.close() } null != t && (t.style.position = "absolute", t.style.display = "block", t.style.left = "50%", t.style.top = l, t.style.marginLeft = "-" + parseInt($(t).width() / 2) + "px", t.style.marginTop = "-" + parseInt($(t).height()) + "px", t.style.zIndex = 999999), this.queue.length > 0 && "" == this.queue[this.queue.length - 1] ? this.queue[this.queue.length - 1] = e : this.queue[this.queue.length] = e }, close: function (e) { if (this.queue.length > 0) { for (var t = null, n = this.queue.length - 1; n > -1; n--)if ("" != this.queue[n]) { t = this.queue[n]; break } if (t != e) { var i = document.getElementById(t); if (null != i) { var o = 0; !function () { "none" != i.style.display ? i.style.display = "none" : i.style.display = "block", o++ , o < 4 && setTimeout(arguments.callee, 5) }() } return 0 } } var l = document.getElementById(e), a = document.getElementById("mark"); null != l && (l.style.display = "none"); for (var n = 0; n < this.queue.length; n++)this.queue[n] == e && (this.queue[n] = ""); return this.queue.join("").length < 1 ? (this.queue.length = 0, null != a && (a.style.display = "none"), 1) : 0 }, mark: function () { return !(this.queue.join("").length < 1) || (this.queue.length = 0, null != mark && (mark.style.display = "none"), !1) }, setArguments: function (e, t) { var n = document.getElementById(e); null != n && n.setAttribute("data-bind", JSON.stringify(t)) }, getArguments: function (e) { var t = document.getElementById(e); if (null != t) { var n = t.getAttribute("data-bind"); if (null != n) { var i = null; try { i = window.eval("(" + n + ")") } catch (t) { } return i } } return null }, getReturnValue: function (e) { var t = document.getElementById(e); if (null != t) { var n = t.getAttribute("return-value"); if (null != n) { var i = null; try { i = window.eval("(" + n + ")") } catch (t) { } return i } } return null }, getBind: function (e, t) { var n = this.getArguments(e); return null != n ? n[t] : null }, addListener: function (t, n, i) { if (null != t && "addListener" != t) { var o = this, l = this[t]; null != l && (0 == n ? this[t] = function () { i.apply(o, arguments), l.apply(o, arguments) } : this[t] = function () { var t = l.apply(o, arguments), n = e.H.slice(arguments, 0, arguments.length); n[n.length] = t, i.apply(o, n) }) } } }, e.F = { id: "ui_widget_dialog", frameId: "ui_widget_dialog_frame", center: function () { Dialog.center(this.id) }, setSize: function (e, t) { Dialog.setSize(this.id, e, t), Dialog.setSize(this.frameId, e, t) }, loading: function (e) { var t = document.getElementById(this.id); if (null != t) for (var n = t.getElementsByTagName("div"), i = 0; i < n.length; i++)if (1 == n[i].nodeType && null != n[i].className && n[i].className.indexOf("loading") > -1) { n[i].style.display = 1 == e ? "block" : "none"; break } }, setArguments: function (e, t) { Dialog.setArguments(this.id, t) }, getArguments: function () { return Dialog.getArguments(this.id) }, getReturnValue: function () { return Dialog.getReturnValue(this.id) }, getBind: function (e) { return Dialog.getBind(this.id, e) }, waiting: function () { var e = document.getElementById(this.id), t = document.getElementById(this.frameId); if (null != e) { e.style.width = "190px", e.style.height = "32px"; for (var n = e.getElementsByTagName("div"), i = 0; i < n.length; i++)if (1 == n[i].nodeType && null != n[i].className && n[i].className.indexOf("loading") > -1) { n[i].style.display = "block"; break } } null != t && (t.style.width = "20px", t.style.height = "20px"), Dialog.open(this.id) }, open: function (e, t) { this.waiting(), null != t && Dialog.setArguments(this.id, t); var n = document.getElementById(this.frameId); null != n && (n.src = e) }, close: function () { Dialog.close(this.id) } }, e.M = { id: "ui_widget_message_dialog", getContainer: function () { return document.getElementById(this.id) }, open: function (t, n) { var i = document.getElementById(this.id); null == i && (i = document.createElement("div"), i.id = this.id, i.className = "up_sure", i.innerHTML = '<em class="close"></em><div class="con"><div class="tc"><input type="button" class="button ensure" value="确　定"/></div></div>', document.body.appendChild(i)), null != t && void 0 != t || (t = ""); var o = t.split("\n"), l = []; if (o.length > 1) for (var a = 0; a < o.length; a++)l[l.length] = "<p>" + o[a] + "</p>"; else l[l.length] = "<p>" + o[0] + "</p>"; t = l.join(""); var s = $(i); s.find(".con p").remove(), s.find(".con div").before(t); var r = null; null == n || "function" == typeof n ? r = n : (r = n.callback, void 0 != n.clot && null != n.clot && n.clot > 0 && ($(i).find(".ensure").hide(), $(i).children(".con").addClass("tc").css({ height: "30px", padding: "30px 25px" }).children("p").css({ "font-size": "14px", "letter-spacing": "1px" }), setTimeout(function () { Dialog.close(i.id), null != r && r(), $(i).html('<em class="close"></em><div class="con"><div class="tc"><input type="button" class="button ensure" value="确　定"/></div></div>') }, n.clot))), s.find(".close, .ensure").unbind(), s.find(".close, .ensure").click(e.H.create(this, this.close)), s.find(".close, .ensure").click(function () { null != r && r() }), Dialog.open(this.id) }, close: function () { Dialog.close(this.id) }, mouseTip: function (e, t, n) { n = n ? "succeed" : "warn"; var i = 150, o = 35, l = document.getElementById("mouseTip_" + this.id); null == l && (l = document.createElement("div"), l.id = "mouseTip_" + this.id, document.body.appendChild(l)); var a = $(l); a.removeClass(), a.html("<em></em>" + e).css({ position: "absolute", width: i, height: o, top: t.offset().top - o + 30, left: t.offset().left - i + 10, "z-index": "99999", textAlign: "center", lineHeight: o + "px" }).addClass("se_tip").addClass("collect").addClass(n).show(), setTimeout(function () { a.hide() }, 1e3) } }, e.C = { id: "ui_dialog_confirm", open: function (t, n) { var i = document.getElementById(this.id); null == i && (i = document.createElement("div"), i.id = this.id, i.className = "up_sure", i.innerHTML = '<em class="close"></em><div class="con"><div class="tc">        <input type="button" class="button ensure" value="确　定"/><input type="button" class="cancel cancel" value="取　消"/></div></div>', document.body.appendChild(i)); var o = null; n = n || {}, "function" == typeof n ? (o = n, n = {}, n.callback = o) : o = n.callback, o = null == n || "function" == typeof n ? n : n.callback, null != n.width, null != n.height, null == n.ensureText && (n.ensureText = "确　定"), null == n.cancelText && (n.cancelText = "取　消"), $(i).find("input.ensure").val(n.ensureText), $(i).find("input.cancel").val(n.cancelText), null != t && void 0 != t || (t = ""); var l = t.split("\n"), a = []; if (l.length > 1) for (var s = 0; s < l.length; s++)a[a.length] = "<p>" + l[s] + "</p>"; else a[a.length] = "<p>" + l[0] + "</p>"; t = a.join(""); var r = $(i); r.find(".con p").remove(), r.find(".con div").before(t), r.find(".ensure, .cancel, .close").unbind(), r.find(".ensure, .cancel, .close").click(e.H.create(this, this.close)), r.find(".ensure").click(function () { null != o && o(1) }), r.find(".close, .cancel").click(function () { null != o && o(0) }), Dialog.open(this.id) }, confirm: function (e, t) { this.open(e, t) }, close: function () { Dialog.close(this.id) } }, window.Dialog = e.D, window.FrameDialog = e.F, window.MessageDialog = e.M, window.ConfirmDialog = e.C });
